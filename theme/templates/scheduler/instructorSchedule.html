{% extends 'base.html' %}
{% block content %}
<div class="max-w-7xl mx-auto p-6 space-y-8">
  <h1 class="text-3xl font-bold text-gray-800">
    {{ instructor.full_name }}’s Weekly Schedule
  </h1>

  {% if error %}
    <p class="text-red-500 mt-4">{{ error }}</p>

  {% elif grouped_schedules %}
    {% for day, schedules in grouped_schedules %}
    <section class="bg-white rounded-2xl shadow border border-gray-100 overflow-hidden">
      <div class="bg-indigo-600 text-white px-6 py-3">
        <h2 class="text-lg font-semibold tracking-wide">{{ day }}</h2>
      </div>

      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 p-6">
        {% for sched in schedules %}
        <div class="border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-md transition bg-gray-50">
          <div class="flex justify-between items-start">
            <div>
              <h3 class="text-lg font-semibold text-gray-800">
                {{ sched.subject.code }}
              </h3>
              <p class="text-sm text-gray-500">{{ sched.subject.name }}</p>
            </div>
            <span class="px-2 py-1 text-xs font-semibold rounded-full
              {% if sched.scheduleType == 'lecture' %}
                bg-blue-100 text-blue-700
              {% else %}
                bg-orange-100 text-orange-700
              {% endif %}
            ">
              {{ sched.scheduleType|capfirst }}
            </span>
          </div>

          <div class="mt-3 space-y-1 text-sm text-gray-700">
            <p><span class="font-medium">Section:</span> {{ sched.section.sectionCode }}</p>
            <p><span class="font-medium">Room:</span> {{ sched.room.roomCode|default:"—" }}</p>
            <p><span class="font-medium">Semester:</span> {{ sched.semester.name }}</p>
            <p><span class="font-medium">Time:</span>
              {{ sched.startTime|time:"h:i A" }} – {{ sched.endTime|time:"h:i A" }}
            </p>
          </div>
        </div>
        {% endfor %}
      </div>
    </section>
    {% endfor %}
  {% else %}
    <p class="text-gray-500 text-center mt-10">No active schedules assigned.</p>
  {% endif %}
</div>
{% endblock %}
