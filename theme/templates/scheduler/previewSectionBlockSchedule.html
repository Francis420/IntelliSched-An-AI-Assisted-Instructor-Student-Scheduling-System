<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Section Schedule: {{ blockLabel }}</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <style>
        /* Use exact same CSS as previewRoomSchedule.html */
        body { background-color: #525659; margin: 0; padding: 0; font-family: Arial, sans-serif; display: flex; flex-direction: column; align-items: center; }
        .toolbar { width: 100%; background-color: #323639; color: white; padding: 12px 0; margin-bottom: 30px; text-align: center; position: sticky; top: 0; z-index: 1000; }
        .printBtn { background-color: #8ab4f8; color: #202124; border: none; padding: 8px 24px; border-radius: 4px; font-weight: bold; cursor: pointer; }
        
        .page { background: white; width: 297mm; height: 210mm; padding: 10mm 15mm; box-sizing: border-box; display: flex; flex-direction: column; }
        
        .header { text-align: center; margin-bottom: 10px; color: #000; font-family: "Times New Roman", Times, serif; }
        .header div { line-height: 1.2; }
        .text-republic { font-size: 11pt; }
        .text-school { font-size: 13pt; font-weight: bold; text-transform: uppercase; font-family: Arial, sans-serif; }
        .text-loc { font-size: 11pt; }
        .text-college { font-size: 11pt; font-weight: bold; margin-top: 8px; text-transform: uppercase; }
        .text-sem { font-size: 11pt; font-weight: bold; margin-bottom: 10px; }

        .title-box { border: 1px solid #000; display: inline-block; padding: 4px 20px; font-weight: bold; font-size: 12pt; text-transform: uppercase; font-family: Arial, sans-serif; }

        table { width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 10px; flex-grow: 1; }
        th, td { border: 1px solid #000; text-align: center; vertical-align: middle; padding: 2px; }
        th { background-color: #f0f0f0; height: 25px; text-transform: uppercase; }
        td:first-child { width: 70px; font-weight: bold; }

        .footer { margin-top: 10px; display: flex; justify-content: space-between; font-family: Arial, sans-serif; font-size: 11px; }
        .sign-col { text-align: center; width: 30%; }
        .signatureLine { border-bottom: 1px solid #000; margin-top: 35px; margin-bottom: 5px; font-weight: bold; text-transform: uppercase; }

        @media print {
            body { background: none; display: block; }
            .toolbar { display: none; }
            .page { width: 100%; height: 100%; margin: 0; padding: 0; border: none; }
            @page { size: A4 landscape; margin: 10mm; }
        }
    </style>
</head>
<body>

    <div class="toolbar">
        <button onclick="window.print()" class="printBtn"><i class="bi bi-printer-fill"></i> Print Schedule</button>
    </div>

    <div class="page">
        <div class="header">
            <div class="text-republic">Republic of the Philippines</div>
            <div class="text-school">EASTERN VISAYAS STATE UNIVERSITY</div>
            <div class="text-loc">Tacloban City</div>
            
            <div class="text-college">COLLEGE OF ENGINEERING - IT Department</div>
            <div class="text-sem">{{ semester.term|title }} Semester S.Y. {{ semester.academicYear }}</div>

            <div class="title-box">
                CLASS SCHEDULE: {{ blockLabel }}
            </div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>TIME</th>
                    {% for day in days %} <th>{{ day }}</th> {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for row in gridRows %}
                    {% if row.isLunch %}
                        <tr style="background-color: #e5e7eb;">
                            <td>{{ row.label }}</td>
                            <td colspan="7" style="font-weight: bold; letter-spacing: 2px;">L U N C H &nbsp; B R E A K</td>
                        </tr>
                    {% else %}
                        <tr>
                            <td>{{ row.timeLabel }}</td>
                            {% for cell in row.cells %}
                                {% if cell.type == 'event' %}
                                    <td rowspan="{{ cell.rowSpan }}" style="background-color: #fff;">
                                        <div style="font-weight: bold;">{{ cell.line1 }}</div>
                                        <div style="font-size: 10px;">{{ cell.line2 }}</div>
                                        <div style="font-size: 9px; font-style: italic;">{{ cell.line3 }}</div>
                                    </td>
                                {% elif cell.type == 'empty' %}
                                    <td></td>
                                {% endif %}
                            {% endfor %}
                        </tr>
                    {% endif %}
                {% endfor %}
            </tbody>
        </table>

        <div class="footer">
            <div class="sign-col">
                <div>Prepared by:</div>
                <div class="signatureLine">
                    {% if deptHead %} {{ deptHead.full_name }} {% else %} (VACANT) {% endif %}
                </div>
                <div>Department Head</div>
            </div>
        </div>
    </div>

</body>
</html>