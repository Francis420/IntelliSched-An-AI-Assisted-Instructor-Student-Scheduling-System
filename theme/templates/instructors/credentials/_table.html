<div class="overflow-x-auto">
  <table class="min-w-full bg-white border border-gray-200 rounded-lg shadow-sm text-sm">
    <thead class="bg-gray-50 text-gray-700 uppercase tracking-wider text-xs font-semibold">
      <tr>
        <th class="px-6 py-3 text-left border-b">Credential</th>
        <th class="px-6 py-3 text-left border-b">Issuer</th>
        <th class="px-6 py-3 text-left border-b">Related Subjects</th>
        <th class="px-6 py-3 text-left border-b">Dates</th>
        <th class="px-6 py-3 text-center border-b">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100">
      {% if credentials %}
        {% for credential in credentials %}
        <tr class="hover:bg-gray-50 transition-colors">
          <td class="px-6 py-4">
            <div class="flex flex-col">
                <span class="font-medium text-gray-900 text-base">{{ credential.title }}</span>
                <span class="text-xs text-indigo-600 bg-indigo-50 px-2 py-0.5 rounded-full w-fit mt-1 border border-indigo-100">
                    {{ credential.get_credentialType_display }}
                </span>
            </div>
          </td>
          
          <td class="px-6 py-4 text-gray-600 font-medium">{{ credential.issuer }}</td>
          
          <td class="px-6 py-4">
            <div class="flex flex-wrap gap-1">
                {% for subject in credential.relatedSubjects.all %}
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200">
                        {{ subject.code }}
                    </span>
                {% empty %}
                    <span class="text-gray-400 italic text-xs">--</span>
                {% endfor %}
            </div>
          </td>

          <td class="px-6 py-4 whitespace-nowrap">
            <div class="text-xs text-gray-500 flex flex-col gap-1">
                <div><span class="font-semibold text-gray-700">Earned:</span> {{ credential.dateEarned }}</div>
                {% if credential.expirationDate %}
                    <div><span class="font-semibold text-gray-700">Expires:</span> {{ credential.expirationDate }}</div>
                {% else %}
                    <div><span class="font-semibold text-gray-700">Expires:</span> <span class="italic">N/A</span></div>
                {% endif %}
            </div>
          </td>

          <td class="px-6 py-4 text-center whitespace-nowrap">
            <div class="flex items-center justify-center gap-2">
                <a href="{% url 'credentialUpdate' credential.credentialId %}"
                   class="text-indigo-600 hover:text-indigo-900 font-medium text-xs bg-indigo-50 px-3 py-1.5 rounded-md hover:bg-indigo-100 border border-indigo-200 transition">
                  Update
                </a>

                <form action="{% url 'credentialDelete' credential.credentialId %}" method="POST" class="inline-block">
                    {% csrf_token %}
                    <button type="submit"
                       onclick="return confirm('Are you sure you want to delete this credential? This action cannot be undone.');"
                       class="text-red-600 hover:text-red-900 font-medium text-xs bg-red-50 px-3 py-1.5 rounded-md hover:bg-red-100 border border-red-200 transition cursor-pointer">
                      Delete
                    </button>
                </form>
            </div>
          </td>
        </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td colspan="5" class="px-6 py-8 text-center text-gray-500">
            No credentials found. Click "Add Credential" to start.
          </td>
        </tr>
      {% endif %}
    </tbody>
  </table>
</div>